<DocPage toc={[
  { title: "Option A: Add to Existing App", url: "#option-a-add-to-existing-app-recommended", depth: 2 },
  { title: "Install the Package", url: "#1-install-the-package", depth: 3 },
  { title: "Configure Convex", url: "#2-configure-convex", depth: 3 },
  { title: "Export the API", url: "#3-export-the-api", depth: 3 },
  { title: "Add Query Cache Provider", url: "#4-add-query-cache-provider", depth: 3 },
  { title: "Use the Components", url: "#5-use-the-components", depth: 3 },
  { title: "Option B: Fork the Demo", url: "#option-b-fork-the-demo", depth: 2 },
  { title: "Clone the Repository", url: "#1-clone-the-repository", depth: 3 },
  { title: "Install Dependencies", url: "#2-install-dependencies", depth: 3 },
  { title: "Set Up Convex", url: "#3-set-up-convex", depth: 3 },
  { title: "Start the Dev Server", url: "#4-start-the-dev-server", depth: 3 },
  { title: "Explore the Demo", url: "#5-explore-the-demo", depth: 3 },
  { title: "Customize for Your Project", url: "#customize-for-your-project", depth: 2 },
  { title: "Next Steps", url: "#next-steps", depth: 2 },
]}>

# Quick Start

There are two ways to get started with ConvexBooking:

- **Option A:** Install the npm package into your existing Convex app (recommended)
- **Option B:** Fork the demo repo for a complete starter with Admin UI

## Option A: Add to Existing App (Recommended)

If you already have a Convex project, add ConvexBooking in just a few steps.

### 1. Install the Package

```bash
npm install @mrfinch/booking convex-helpers
```

### 2. Configure Convex

Create or update your `convex/convex.config.ts` to use the booking component:

```typescript title="convex/convex.config.ts"
import { defineApp } from "convex/server";
import booking from "@mrfinch/booking/convex.config";

const app = defineApp();
app.use(booking);

export default app;
```

### 3. Export the API

Create a `convex/booking.ts` file to expose the component's functions:

```typescript title="convex/booking.ts"
import { components } from "./_generated/api";
import { makeBookingAPI } from "@mrfinch/booking";

export const {
  // Queries
  listResources,
  getResource,
  listSchedules,
  getSchedule,
  listEventTypes,
  getEventType,
  getMonthAvailability,
  getDaySlots,
  getDatePresence,
  listBookings,
  getBooking,
  // Mutations
  createResource,
  updateResource,
  deleteResource,
  createSchedule,
  updateSchedule,
  deleteSchedule,
  createEventType,
  updateEventType,
  deleteEventType,
  createBooking,
  cancelBooking,
  // Presence
  heartbeat,
  leave,
} = makeBookingAPI(components.booking);
```

### 4. Add Query Cache Provider

Wrap your Convex provider with `ConvexQueryCacheProvider` for optimal caching:

```tsx title="components/ConvexClientProvider.tsx"
import { ConvexProvider, ConvexReactClient } from "convex/react";
import { ConvexQueryCacheProvider } from "convex-helpers/react/cache/provider";

const convex = new ConvexReactClient(process.env.NEXT_PUBLIC_CONVEX_URL!);

export default function ConvexClientProvider({ children }: { children: React.ReactNode }) {
  return (
    <ConvexProvider client={convex}>
      <ConvexQueryCacheProvider>
        {children}
      </ConvexQueryCacheProvider>
    </ConvexProvider>
  );
}
```

### 5. Use the Components

Import and use the Booker component in your app:

```tsx title="app/book/page.tsx"
import { Booker } from "@mrfinch/booking/react";

export default function BookingPage() {
  return (
    <Booker
      eventTypeId="your-event-type-id"
      resourceId="your-resource-id"
      title="Book a Session"
      description="Select a time that works for you"
    />
  );
}
```

<Callout type="info">
  You'll need to create resources, schedules, and event types first. See the [API Reference](/docs/api) for how to create these, or fork the demo for a ready-made Admin UI.
</Callout>

---

## Option B: Fork the Demo

Want a complete starter with Admin UI, landing page, and documentation? Fork the demo repository.

### 1. Clone the Repository

```bash
git clone https://github.com/Finchmedia/convex-booking my-booking-app
cd my-booking-app
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Set Up Convex

Run the Convex dev command. If you don't have a Convex project yet, it will prompt you to create one:

```bash
npx convex dev
```

This will:
- Prompt you to log in to Convex (if needed)
- Create a new Convex project (or connect to an existing one)
- Generate a `.env.local` file with your Convex URL
- Start watching for changes

Keep this terminal running.

### 4. Start the Dev Server

In a new terminal, start the Next.js development server:

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) to see the landing page.

### 5. Explore the Demo

The project includes a complete demo setup:

- **Landing Page** (`/`) - Marketing page with features overview
- **Documentation** (`/docs`) - You're reading it!
- **Admin Dashboard** (`/admin`) - Manage resources, schedules, event types, and bookings
- **Public Booking** (`/book`) - The booking flow your users will see

Try creating a resource and event type in the Admin, then book a slot in the public booking flow.

---

## Customize for Your Project

Once you have it running, you can customize:

1. **Remove what you don't need** - Delete the landing page, docs, or demo data
2. **Modify the Booker component** - Customize styles, add fields, change the flow
3. **Update the schema** - Add custom fields to bookings, resources, etc.
4. **Connect your auth** - Integrate with your existing authentication

### Stripping the Docs (Optional)

If you're using the demo as a starting point and don't need the documentation site:

```bash
# Remove docs-related files
rm -rf app/docs
rm -rf components/docs

# Remove landing page (optional)
rm app/page.tsx
```

Then remove these dependencies from `package.json`:
- `@next/mdx`
- `rehype-pretty-code`
- `shiki`

## Next Steps

- [Core Concepts](/docs/concepts) - Understand the architecture
- [Components](/docs/components) - Learn about Booker and Admin UI
- [API Reference](/docs/api) - Full API documentation
- [Guides](/docs/guides) - Common patterns and recipes

</DocPage>
